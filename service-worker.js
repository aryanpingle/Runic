(()=>{var p=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var r=(e,t,n)=>new Promise((c,i)=>{var o=s=>{try{u(n.next(s))}catch(l){i(l)}},w=s=>{try{u(n.throw(s))}catch(l){i(l)}},u=s=>s.done?c(s.value):Promise.resolve(s.value).then(o,w);u((n=n.apply(e,t)).next())});var C=p(f=>{var h=self.registration.scope.includes("127.0.0.1")||self.registration.scope.includes("localhost"),d=(e,t="rgb(128, 128, 128)")=>h&&console.log(`%c${e}`,`color: black !important; background-color: ${t};`),q=!h,R="runic-cache-1",a=null;self.addEventListener("install",e=>{d("Service Worker Installed"),self.skipWaiting()});self.addEventListener("activate",e=>r(f,null,function*(){d("Service Worker Activated"),e.waitUntil(r(f,null,function*(){yield clients.claim()}))}));self.addEventListener("fetch",e=>{e.respondWith(q?m(e):fetch(e.request))});function E(e){return!!(e.includes("googletagmanager.com/gtag")||e.includes("ipa_dict.json")||e.includes("fonts.googleapis.com")||/\.(png|webp|jpg|jpeg)$/.test(e))}function m(e){return r(this,null,function*(){let t=e.request;if(t.url.includes("google-analytics.com"))return yield fetch(t);if(a==null&&(a=yield caches.open(R)),E(t.url)){let n=yield a.match(t);return n===void 0?yield fetch(t).then(c=>(g(t,c),c)):n}return yield v(t)})}function g(e,t){let n=t.clone();a.put(e,n)}function k(e){return r(this,null,function*(){let t=yield fetch(e);return t.ok&&g(e,t),t})}function v(e){return r(this,null,function*(){let t=new URL(e.url);t.search="",t.hash="";let n=t.toString(),c=new Request(n);try{return yield k(c)}catch(i){let o=yield a.match(c);if(o===void 0)throw i;return o}})}});C();})();
