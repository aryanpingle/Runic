var tt=Object.defineProperty;var nt=(e,t,n)=>t in e?tt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var d=(e,t,n)=>nt(e,typeof t!="symbol"?t+"":t,n);var J,_,Ie,ot,R,we,Re,ae,ue,se,le,rt,M={},Le=[],it=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,pe=Array.isArray;function E(e,t){for(var n in t)e[n]=t[n];return e}function Pe(e){var t=e.parentNode;t&&t.removeChild(e)}function at(e,t,n){var o,r,a,l={};for(a in t)a=="key"?o=t[a]:a=="ref"?r=t[a]:l[a]=t[a];if(arguments.length>2&&(l.children=arguments.length>3?J.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)l[a]===void 0&&(l[a]=e.defaultProps[a]);return X(e,l,o,r,null)}function X(e,t,n,o,r){var a={type:e,props:t,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++Ie,__i:-1,__u:0};return r==null&&_.vnode!=null&&_.vnode(a),a}function w(e){return e.children}function y(e,t){this.props=e,this.context=t}function L(e,t){if(t==null)return e.__?L(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?L(e):null}function Ne(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Ne(e)}}function Ce(e){(!e.__d&&(e.__d=!0)&&R.push(e)&&!K.__r++||we!==_.debounceRendering)&&((we=_.debounceRendering)||Re)(K)}function K(){var e,t,n,o,r,a,l,c;for(R.sort(ae);e=R.shift();)e.__d&&(t=R.length,o=void 0,a=(r=(n=e).__v).__e,l=[],c=[],n.__P&&((o=E({},r)).__v=r.__v+1,_.vnode&&_.vnode(o),me(n.__P,o,r,n.__n,n.__P.namespaceURI,32&r.__u?[a]:null,l,a??L(r),!!(32&r.__u),c),o.__v=r.__v,o.__.__k[o.__i]=o,Ae(l,o,c),o.__e!=a&&Ne(o)),R.length>t&&R.sort(ae));K.__r=0}function Ve(e,t,n,o,r,a,l,c,u,p,h){var s,v,m,b,k,x=o&&o.__k||Le,g=t.length;for(n.__d=u,st(n,t,x),u=n.__d,s=0;s<g;s++)(m=n.__k[s])!=null&&typeof m!="boolean"&&typeof m!="function"&&(v=m.__i===-1?M:x[m.__i]||M,m.__i=s,me(e,m,v,r,a,l,c,u,p,h),b=m.__e,m.ref&&v.ref!=m.ref&&(v.ref&&de(v.ref,null,m),h.push(m.ref,m.__c||b,m)),k==null&&b!=null&&(k=b),65536&m.__u||v.__k===m.__k?u=De(m,u,e):typeof m.type=="function"&&m.__d!==void 0?u=m.__d:b&&(u=b.nextSibling),m.__d=void 0,m.__u&=-196609);n.__d=u,n.__e=k}function st(e,t,n){var o,r,a,l,c,u=t.length,p=n.length,h=p,s=0;for(e.__k=[],o=0;o<u;o++)l=o+s,(r=e.__k[o]=(r=t[o])==null||typeof r=="boolean"||typeof r=="function"?null:typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?X(null,r,null,null,null):pe(r)?X(w,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?X(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r)!=null?(r.__=e,r.__b=e.__b+1,c=lt(r,n,l,h),r.__i=c,a=null,c!==-1&&(h--,(a=n[c])&&(a.__u|=131072)),a==null||a.__v===null?(c==-1&&s--,typeof r.type!="function"&&(r.__u|=65536)):c!==l&&(c==l-1?s--:c==l+1?s++:c>l?h>u-l?s+=c-l:s--:c<l&&(c==l-s?s-=c-l:s++),c!==o+s&&(r.__u|=65536))):(a=n[l])&&a.key==null&&a.__e&&!(131072&a.__u)&&(a.__e==e.__d&&(e.__d=L(a)),ce(a,a,!1),n[l]=null,h--);if(h)for(o=0;o<p;o++)(a=n[o])!=null&&!(131072&a.__u)&&(a.__e==e.__d&&(e.__d=L(a)),ce(a,a))}function De(e,t,n){var o,r;if(typeof e.type=="function"){for(o=e.__k,r=0;o&&r<o.length;r++)o[r]&&(o[r].__=e,t=De(o[r],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=L(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function lt(e,t,n,o){var r=e.key,a=e.type,l=n-1,c=n+1,u=t[n];if(u===null||u&&r==u.key&&a===u.type&&!(131072&u.__u))return n;if(o>(u!=null&&!(131072&u.__u)?1:0))for(;l>=0||c<t.length;){if(l>=0){if((u=t[l])&&!(131072&u.__u)&&r==u.key&&a===u.type)return l;l--}if(c<t.length){if((u=t[c])&&!(131072&u.__u)&&r==u.key&&a===u.type)return c;c++}}return-1}function Te(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||it.test(t)?n:n+"px"}function q(e,t,n,o,r){var a;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof o=="string"&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||Te(e.style,t,"");if(n)for(t in n)o&&n[t]===o[t]||Te(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")a=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||t==="onFocusOut"||t==="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?o?n.u=o.u:(n.u=ue,e.addEventListener(t,a?le:se,a)):e.removeEventListener(t,a?le:se,a);else{if(r=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function Ee(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=ue++;else if(t.t<n.u)return;return n(_.event?_.event(t):t)}}}function me(e,t,n,o,r,a,l,c,u,p){var h,s,v,m,b,k,x,g,f,A,T,$,G,Se,F,ie,S=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),a=[c=t.__e=n.__e]),(h=_.__b)&&h(t);e:if(typeof S=="function")try{if(g=t.props,f="prototype"in S&&S.prototype.render,A=(h=S.contextType)&&o[h.__c],T=h?A?A.props.value:h.__:o,n.__c?x=(s=t.__c=n.__c).__=s.__E:(f?t.__c=s=new S(g,T):(t.__c=s=new y(g,T),s.constructor=S,s.render=ut),A&&A.sub(s),s.props=g,s.state||(s.state={}),s.context=T,s.__n=o,v=s.__d=!0,s.__h=[],s._sb=[]),f&&s.__s==null&&(s.__s=s.state),f&&S.getDerivedStateFromProps!=null&&(s.__s==s.state&&(s.__s=E({},s.__s)),E(s.__s,S.getDerivedStateFromProps(g,s.__s))),m=s.props,b=s.state,s.__v=t,v)f&&S.getDerivedStateFromProps==null&&s.componentWillMount!=null&&s.componentWillMount(),f&&s.componentDidMount!=null&&s.__h.push(s.componentDidMount);else{if(f&&S.getDerivedStateFromProps==null&&g!==m&&s.componentWillReceiveProps!=null&&s.componentWillReceiveProps(g,T),!s.__e&&(s.shouldComponentUpdate!=null&&s.shouldComponentUpdate(g,s.__s,T)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(s.props=g,s.state=s.__s,s.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(j){j&&(j.__=t)}),$=0;$<s._sb.length;$++)s.__h.push(s._sb[$]);s._sb=[],s.__h.length&&l.push(s);break e}s.componentWillUpdate!=null&&s.componentWillUpdate(g,s.__s,T),f&&s.componentDidUpdate!=null&&s.__h.push(function(){s.componentDidUpdate(m,b,k)})}if(s.context=T,s.props=g,s.__P=e,s.__e=!1,G=_.__r,Se=0,f){for(s.state=s.__s,s.__d=!1,G&&G(t),h=s.render(s.props,s.state,s.context),F=0;F<s._sb.length;F++)s.__h.push(s._sb[F]);s._sb=[]}else do s.__d=!1,G&&G(t),h=s.render(s.props,s.state,s.context),s.state=s.__s;while(s.__d&&++Se<25);s.state=s.__s,s.getChildContext!=null&&(o=E(E({},o),s.getChildContext())),f&&!v&&s.getSnapshotBeforeUpdate!=null&&(k=s.getSnapshotBeforeUpdate(m,b)),Ve(e,pe(ie=h!=null&&h.type===w&&h.key==null?h.props.children:h)?ie:[ie],t,n,o,r,a,l,c,u,p),s.base=t.__e,t.__u&=-161,s.__h.length&&l.push(s),x&&(s.__E=s.__=null)}catch(j){if(t.__v=null,u||a!=null){for(t.__u|=u?160:32;c&&c.nodeType===8&&c.nextSibling;)c=c.nextSibling;a[a.indexOf(c)]=null,t.__e=c}else t.__e=n.__e,t.__k=n.__k;_.__e(j,t,n)}else a==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=ct(n.__e,t,n,o,r,a,l,u,p);(h=_.diffed)&&h(t)}function Ae(e,t,n){t.__d=void 0;for(var o=0;o<n.length;o++)de(n[o],n[++o],n[++o]);_.__c&&_.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(a){a.call(r)})}catch(a){_.__e(a,r.__v)}})}function ct(e,t,n,o,r,a,l,c,u){var p,h,s,v,m,b,k,x=n.props,g=t.props,f=t.type;if(f==="svg"?r="http://www.w3.org/2000/svg":f==="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),a!=null){for(p=0;p<a.length;p++)if((m=a[p])&&"setAttribute"in m==!!f&&(f?m.localName===f:m.nodeType===3)){e=m,a[p]=null;break}}if(e==null){if(f===null)return document.createTextNode(g);e=document.createElementNS(r,f,g.is&&g),a=null,c=!1}if(f===null)x===g||c&&e.data===g||(e.data=g);else{if(a=a&&J.call(e.childNodes),x=n.props||M,!c&&a!=null)for(x={},p=0;p<e.attributes.length;p++)x[(m=e.attributes[p]).name]=m.value;for(p in x)if(m=x[p],p!="children"){if(p=="dangerouslySetInnerHTML")s=m;else if(p!=="key"&&!(p in g)){if(p=="value"&&"defaultValue"in g||p=="checked"&&"defaultChecked"in g)continue;q(e,p,null,m,r)}}for(p in g)m=g[p],p=="children"?v=m:p=="dangerouslySetInnerHTML"?h=m:p=="value"?b=m:p=="checked"?k=m:p==="key"||c&&typeof m!="function"||x[p]===m||q(e,p,m,x[p],r);if(h)c||s&&(h.__html===s.__html||h.__html===e.innerHTML)||(e.innerHTML=h.__html),t.__k=[];else if(s&&(e.innerHTML=""),Ve(e,pe(v)?v:[v],t,n,o,f==="foreignObject"?"http://www.w3.org/1999/xhtml":r,a,l,a?a[0]:n.__k&&L(n,0),c,u),a!=null)for(p=a.length;p--;)a[p]!=null&&Pe(a[p]);c||(p="value",b!==void 0&&(b!==e[p]||f==="progress"&&!b||f==="option"&&b!==x[p])&&q(e,p,b,x[p],r),p="checked",k!==void 0&&k!==e[p]&&q(e,p,k,x[p],r))}return e}function de(e,t,n){try{if(typeof e=="function"){var o=typeof e.__u=="function";o&&e.__u(),o&&t==null||(e.__u=e(t))}else e.current=t}catch(r){_.__e(r,n)}}function ce(e,t,n){var o,r;if(_.unmount&&_.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||de(o,null,t)),(o=e.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(a){_.__e(a,t)}o.base=o.__P=null}if(o=e.__k)for(r=0;r<o.length;r++)o[r]&&ce(o[r],t,n||typeof e.type!="function");n||e.__e==null||Pe(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function ut(e,t,n){return this.constructor(e,n)}function B(e,t,n){var o,r,a,l;_.__&&_.__(e,t),r=(o=typeof n=="function")?null:n&&n.__k||t.__k,a=[],l=[],me(t,e=(!o&&n||t).__k=at(w,null,[e]),r||M,M,t.namespaceURI,!o&&n?[n]:r?null:t.firstChild?J.call(t.childNodes):null,a,!o&&n?n:r?r.__e:t.firstChild,o,l),Ae(a,e,l)}J=Le.slice,_={__e:function(e,t,n,o){for(var r,a,l;t=t.__;)if((r=t.__c)&&!r.__)try{if((a=r.constructor)&&a.getDerivedStateFromError!=null&&(r.setState(a.getDerivedStateFromError(e)),l=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(e,o||{}),l=r.__d),l)return r.__E=r}catch(c){e=c}throw e}},Ie=0,ot=function(e){return e!=null&&e.constructor==null},y.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=E({},this.state),typeof e=="function"&&(e=e(E({},n),this.props)),e&&E(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Ce(this))},y.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Ce(this))},y.prototype.render=w,R=[],Re=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ae=function(e,t){return e.__v.__b-t.__v.__b},K.__r=0,ue=0,se=Ee(!1),le=Ee(!0),rt=0;var pt="./ipa_dict.json",Y={};async function Ge(){Y=await(await fetch(pt)).json()}function mt(e){return e in Y?Y[e][0].replace(/\s+/g,""):null}function Me(e){let t=!1,n=/[^\s\n\.,?!\-]+/gu;return e.replace(n,o=>{let r=o.startsWith("@"),a=o.endsWith("@");if(r&&a)return o;if(r)return t=!0,o;if(a)return t=!1,o;if(t)return o;let l=o.toLowerCase();return l in Y?mt(l):""})}var P=[{ipaSymbol:"\xE6",mask:26368,english:"a",examples:"has, apple, ash"},{ipaSymbol:"\u0251\u0279",mask:30976,english:"ah",examples:"arm, large, far"},{ipaSymbol:"\u0251",mask:18176,english:"aw",examples:"box, awesome, swan"},{ipaSymbol:"\u0254",mask:18176,english:"aw",examples:"box, awesome, swan"},{ipaSymbol:"e\u026A",mask:16640,english:"ay/ei",examples:"maid, break, they"},{ipaSymbol:"\u025B",mask:24064,english:"eh",examples:"end, bread, said"},{ipaSymbol:"i",mask:24320,english:"ee",examples:"bee, meat, key"},{ipaSymbol:"\u026A\u0279",mask:22272,english:"ear",examples:"ear, beer, steer"},{ipaSymbol:"\u0259",mask:24832,english:"uh",examples:"about, other, uhh"},{ipaSymbol:"\u025B\u0279",mask:22016,english:"air",examples:"air, heir, there"},{ipaSymbol:"\u026A",mask:22528,english:"i",examples:"it, gym, brim"},{ipaSymbol:"a\u026A",mask:24576,english:"aye",examples:"ice, spider, pie"},{ipaSymbol:"\u025D",mask:32256,english:"uhr",examples:"bird, burn, pearl"},{ipaSymbol:"o\u028A",mask:32512,english:"oh",examples:"open, boat, moan"},{ipaSymbol:"\u0254\u026A",mask:18432,english:"oi",examples:"join, boy, coin"},{ipaSymbol:"u",mask:28416,english:"oo (long)",examples:"who, blue, soon"},{ipaSymbol:"\u028A",mask:19968,english:"oo (short)",examples:"wolf, bush, would"},{ipaSymbol:"a\u028A",mask:20480,english:"ow",examples:"now, shout, bow"},{ipaSymbol:"\u0254\u0279",mask:30464,english:"our",examples:"tour, cure, sure"},{ipaSymbol:"\u028A\u0279",mask:30464,english:"our",examples:"tour, cure, sure"}],Z=32512,z=[{ipaSymbol:"b",mask:16546,english:"b",examples:"ball, abe, bird"},{ipaSymbol:"t\u0283",mask:16406,english:"tch",examples:"watch, chair, future"},{ipaSymbol:"d",mask:16554,english:"d",examples:"doll, damn, deep"},{ipaSymbol:"f",mask:16474,english:"f",examples:"fall, fit, fill"},{ipaSymbol:"\u0261",mask:16498,english:"g",examples:"gun, egg, ghost"},{ipaSymbol:"h",mask:16562,english:"h",examples:"hop, who, help"},{ipaSymbol:"d\u0292",mask:16522,english:"dj",examples:"jam, giraffe, edge"},{ipaSymbol:"k",mask:16610,english:"k",examples:"mask, cat, rack"},{ipaSymbol:"l",mask:16530,english:"l",examples:"live, well, land"},{ipaSymbol:"\u026B",mask:16530,english:"l",examples:"live, well, land"},{ipaSymbol:"m",mask:16424,english:"m",examples:"man, sum, comb"},{ipaSymbol:"n",mask:16428,english:"n",examples:"no, never, nice"},{ipaSymbol:"\u014B",mask:16638,english:"ng",examples:"ring, pink, tongue"},{ipaSymbol:"p",mask:16466,english:"p",examples:"pip, pretty, pop"},{ipaSymbol:"\u0279",mask:16594,english:"r",examples:"rice, rune, rim"},{ipaSymbol:"s",mask:16602,english:"s",examples:"sit, less, circle"},{ipaSymbol:"\u0283",mask:16510,english:"sh",examples:"sham, sure, ocean"},{ipaSymbol:"t",mask:16470,english:"t",examples:"tip, matter, tomato"},{ipaSymbol:"\u03B8",mask:16598,english:"th (sharp)",examples:"theta, theme, thaw"},{ipaSymbol:"\xF0",mask:16570,english:"th (soft)",examples:"leather, the, them"},{ipaSymbol:"v",mask:16550,english:"v",examples:"vine, five, very"},{ipaSymbol:"w",mask:16452,english:"w",examples:"why, where, quick"},{ipaSymbol:"j",mask:16534,english:"yuh",examples:"you, onion, yup"},{ipaSymbol:"z",mask:16566,english:"z",examples:"zed, buzz, his"},{ipaSymbol:"\u0292",mask:16622,english:"zh",examples:"treasure, azure, division"}],Q=16638,N=16384,ee=[...P,...z].sort((e,t)=>-(e.ipaSymbol.length-t.ipaSymbol.length)),he=Object.fromEntries(ee.map(e=>[e.ipaSymbol,e])),ge=Object.fromEntries(ee.map(e=>[e.mask,e]));function Be(e){return P.some(t=>e===t.ipaSymbol)}function H(e){let t=0;for(;e!=0;)t+=e%2,e=e>>1;return t}function ze(e,t){return(e&t)===t}function dt(e){return(e&Z)===N?!0:(e&Z)in ge}function ht(e){return(e&Q)===N?!0:(e&Q)in ge}function He(e){return e&Z}function Ue(e){return e&Q}function gt(e){if(!dt(e))return null;let t="";for(let n of P)if(ze(e,n.mask)){let o=H(n.mask);if(t===""){t=n.ipaSymbol;continue}let r=H(he[t].mask);o>r&&(t=n.ipaSymbol)}return t}function _t(e){if(!ht(e))return null;let t="";for(let n of z)if(ze(e,n.mask)){let o=H(n.mask);if(t===""){t=n.ipaSymbol;continue}let r=H(he[t].mask);o>r&&(t=n.ipaSymbol)}return t}function Oe(e){let t=gt(e),n=_t(e),o=e%2===1;return{vowel:t,consonant:n,vowelBeforeConsonant:o}}var ft=0,Ut=Array.isArray;function i(e,t,n,o,r,a){t||(t={});var l,c,u=t;if("ref"in u)for(c in u={},t)c=="ref"?l=t[c]:u[c]=t[c];var p={type:e,props:u,key:n,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--ft,__i:-1,__u:0,__source:r,__self:a};if(typeof e=="function"&&(l=e.defaultProps))for(c in l)u[c]===void 0&&(u[c]=l[c]);return _.vnode&&_.vnode(p),p}var C=3,be=8,ye=1,fe=[[[0,3],[3,3]],[[1.5,0],[3,1]],[[3,5],[1.5,6]],[[1.5,6],[0,5]],[[0,5],[0,4]],[[0,3],[0,1]],[[0,1],[1.5,0]],[[1.5,0],[1.5,2]],[[3,1],[1.5,2]],[[1.5,4],[3,5]],[[1.5,4],[1.5,6]],[[1.5,4],[0,5]],[[1.5,2],[0,1]],[[1.5,2],[1.5,3]]];function bt(e,t,n){let o=`translate(${t}, ${n})`;return i("g",{className:"rune",transform:o,children:i("text",{class:"rune-segment rune-segment--active rune-segment--fill","font-size":5,"font-family":"Noto Sans Mono, monospace","alignment-baseline":"before-edge","text-anchor":"start",children:e})})}function We(e,t,n){let o=`translate(${t}, ${n})`;switch(e){case".":return i("g",{className:"rune",transform:o,children:i("circle",{class:"rune-segment rune-segment--active rune-segment--fill",cx:1.5,cy:3,r:.25,fill:"none"})});case"!":return i("g",{className:"rune",transform:o,children:[i("line",{class:"rune-segment rune-segment--active rune-segment--stroke",x1:1.5,y1:1,x2:1.5,y2:3.5}),i("circle",{class:"rune-segment rune-segment--active rune-segment--stroke rune-segment--fill",cx:1.5,cy:5,r:.25,fill:"none"})]});case"!":return i("g",{className:"rune",transform:o,children:[i("line",{class:"rune-segment rune-segment--active rune-segment--stroke",x1:1.5,y1:1,x2:1.5,y2:3.5}),i("circle",{class:"rune-segment rune-segment--active rune-segment--stroke rune-segment--fill",cx:1.5,cy:5,r:.25,fill:"none"})]});case"?":return i("g",{className:"rune",transform:o,children:[i("path",{class:"rune-segment rune-segment--active rune-segment--stroke",d:`
                        M0.75, 2
                        A0.75, 0.75, 0, 1, 1, 1.5, 2.75
                        L1.5, 3.5
                        `,fill:"none"}),i("circle",{class:"rune-segment rune-segment--active rune-segment--stroke rune-segment--fill",cx:1.5,cy:5,r:.25,fill:"none"})]});case"-":return i("g",{className:"rune",transform:o,children:i("line",{class:"rune-segment rune-segment--active rune-segment--stroke",x1:1,y1:3,x2:2,y2:3})})}return bt(e,t,n)}function yt(e,t){let n=fe[e][0],o=fe[e][1];return i("line",{class:`rune-segment rune-segment--stroke ${t?"rune-segment--active":""}`,"data-segment-index":e,x1:n[0],y1:n[1],x2:o[0],y2:o[1]})}function vt(e){return i("circle",{class:`rune-segment rune-segment--stroke ${e?"rune-segment--active":""}`,"data-segment-index":14,cx:1.5,cy:6.5,r:.5,fill:"none"})}function _e(e){let t=fe.map((a,l)=>{let c=(e&1<<14-l)!==0;return yt(l,c)}),n=(e&1)!==0,o=vt(n);return[...t,o]}function $e(e,t,n,o){let r=`translate(${n}, ${o})`,a=i("g",{className:"rune","data-rune-index":t,transform:r,children:[..._e(0)]}),l=i("g",{className:"rune","data-rune-index":t,transform:r,children:[..._e(e)]}),c=i("g",{className:"rune","data-rune-bitmask":e.toString(2),"data-rune-index":t,transform:r,children:[..._e(0)]}),{vowel:u,consonant:p,vowelBeforeConsonant:h}=Oe(e),s=[p,u];h&&s.reverse();let v=s.join(" ").trim();return{guide:[a],real:[l],interactive:[c],text:[i("g",{className:"rune","data-rune-index":t,transform:r,children:i("text",{"font-size":1,fill:"white",x:1.5,y:8,"alignment-baseline":"middle","text-anchor":"middle",children:v})})]}}function Fe(e,t){e.guide.push(...t.guide),e.real.push(...t.real),e.interactive.push(...t.interactive),e.text.push(...t.text)}function ve(e){let t=[],n=0,o=!1;for(;n<e.length;){let a=e.charAt(n),l=!1,c=null;for(let u of ee)if(e.startsWith(u.ipaSymbol,n)){l=!0,c=u;break}if(l&&!o){let u=c.ipaSymbol,p=Be(u),h={type:"phoneticSymbol",vowelBitmask:p?c.mask:0,consonantBitmask:p?0:c.mask,vowelOrConsonant:p?"vowel":"consonant",vowelBeforeConsonant:!1,symbols:u};t.push(h),n+=u.length}else if(a==="@")o=!o,n+=1;else{let u={type:"specialChar",char:a};t.push(u),n+=1}}return St(t)}function xt(e,t){return!(e.type!=="phoneticSymbol"||t.type!=="phoneticSymbol"||e.vowelOrConsonant==="mixed"||t.vowelOrConsonant==="mixed"||e.vowelOrConsonant===t.vowelOrConsonant)}function kt(e,t){return{type:"phoneticSymbol",vowelBitmask:e.vowelBitmask|t.vowelBitmask,consonantBitmask:e.consonantBitmask|t.consonantBitmask,vowelOrConsonant:"mixed",vowelBeforeConsonant:e.consonantBitmask===0,symbols:[e.symbols,t.symbols].join(" ")}}function je(e){let t=[0];return e.forEach(n=>{n.type==="specialChar"&&n.char===`
`?t.push(0):++t[t.length-1]}),t}function qe(e){let t=[[]];return e.forEach(n=>{n.type==="specialChar"&&n.char===`
`?t.push([]):t[t.length-1].push(n)}),t}function St(e){let t=[];for(let n of e){let o=t[t.length-1];if(t.length===0)t.push(n);else if(xt(o,n)){let r=kt(o,n);t[t.length-1]=r}else t.push(n)}return t}function Xe(e){let t=e.vowelBeforeConsonant?1:0;return e.vowelBitmask|e.consonantBitmask|t}function Ke(e){let t={type:"phoneticSymbol"},n=He(e),o=n!==0&&n!==N;t.vowelBitmask=o?n:0;let r=Ue(e),a=r!==0&&r!==N;return t.consonantBitmask=a?r:0,o&&a?t.vowelOrConsonant="mixed":o?t.vowelOrConsonant="vowel":a?t.vowelOrConsonant="consonant":t.vowelOrConsonant="mixed",t.vowelBeforeConsonant=(e&1)===1,t.symbols="UNSET",t}var te=2,I=class extends y{constructor(n){super(n);d(this,"svgElement");d(this,"tokens");d(this,"state",{displayPhonemes:this.props.displayPhonemes??!1,backgroundColor:this.props.backgroundColor??"transparent",transparentBackground:this.props.transparentBackground??!0,runeColor:this.props.runeColor??"crimson",runeGuideColor:this.props.runeGuideColor??"transparent",runeThickness:this.props.runeThickness??.25,shadowSpread:this.props.shadowSpread??0,align:this.props.align??"left",lineSpacing:this.props.lineSpacing??C/2});d(this,"guideLayer");d(this,"realLayer");d(this,"interactiveLayer");d(this,"textLayer");d(this,"postRenderSetup",()=>{this.applyGeneralStylesToSegments(),this.applyStylesToGuideSegments(),this.applyStylesToRealSegments(),this.applyStylesToInteractiveSegments(),this.applyGeneralSVGStyles()});d(this,"onInteractiveSegmentClick",n=>{let o=n.currentTarget,r=o.parentElement,a=parseInt(r.getAttribute("data-rune-index")),l=parseInt(r.getAttribute("data-rune-bitmask"),2),c=parseInt(o.getAttribute("data-segment-index")),u=l^1<<14-c;this.updateRuneTokenMask(a,u)});this.tokens=ve(n.phoneticText)}componentDidUpdate(){this.postRenderSetup()}componentDidMount(){this.postRenderSetup()}applyGeneralSVGStyles(){let n=this.state.shadowSpread?`drop-shadow(0 0 ${this.state.shadowSpread}px ${this.state.runeColor})`:"";this.svgElement.style.setProperty("filter",n)}applyGeneralStylesToSegments(){this.svgElement.querySelectorAll(".rune-segment").forEach(n=>{n.setAttribute("stroke","transparent"),n.setAttribute("stroke-width",`${this.state.runeThickness}`),n.setAttribute("stroke-linecap","round")})}applyStylesToGuideSegments(){this.guideLayer?.querySelectorAll(".rune-segment").forEach(n=>{n.setAttribute("stroke",this.state.runeGuideColor)})}applyStylesToRealSegments(){this.realLayer?.querySelectorAll(".rune-segment--active").forEach(n=>{let o=n.classList.contains("rune-segment--stroke");n.setAttribute("stroke",o?this.state.runeColor:"none");let r=n.classList.contains("rune-segment--fill");n.setAttribute("fill",r?this.state.runeColor:"none")})}applyStylesToInteractiveSegments(){let n="CUM";this.interactiveLayer?.querySelectorAll(".rune-segment").forEach(o=>{o.hasAttribute(n)||(o.addEventListener("click",this.onInteractiveSegmentClick),o.setAttribute(n,"true"))})}updateRuneTokenMask(n,o){let r=Ke(o);this.tokens[n]=r,this.forceUpdate()}getViewBoxDimensions(){let n=be-(this.state.displayPhonemes?0:ye),o=qe(this.tokens),r=Math.max(...o.map(u=>u.length))*C,a=2*te+r,l=o.length,c=2*te+n*l+(l-1)*this.state.lineSpacing;return[a,c]}getAlignmentOffset(n,o){let r=0;return this.state.align==="left"||(this.state.align==="center"?r=(o-n)/2:this.state.align==="right"&&(r=o-n)),r}getTokenLayers(n){let o={guide:[],real:[],interactive:[],text:[]},r=be-(this.state.displayPhonemes?0:ye),a=je(n),l=Math.max(...a.map(p=>p*C)),c=0,u=0;return n.forEach((p,h)=>{let s=c*(r+this.state.lineSpacing),m=this.getAlignmentOffset(a[c]*C,l)+u*C;if(++u,p.type==="specialChar"&&p.char===`
`)++c,u=0;else if(p.type==="specialChar"){let b=We(p.char,m,s);o.real.push(b)}else{let b=Xe(p),k=$e(b,h,m,s);Fe(o,k)}}),o}setPhoneticText(n){this.tokens=ve(n),this.forceUpdate()}render(n,o){let r=this.getTokenLayers(this.tokens),[a,l]=this.getViewBoxDimensions(),c=[-te,-te,a,l].join(" ");return i("svg",{ref:u=>this.svgElement=u,class:"runic-svg",preserveAspectRatio:"xMidYMid meet",viewBox:c,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[i("g",{ref:u=>this.guideLayer=u,className:"runic-layer--guide",children:[...r.guide]}),i("g",{ref:u=>this.realLayer=u,className:"runic-layer--real",children:[...r.real]}),n.interactive&&i("g",{ref:u=>this.interactiveLayer=u,className:"runic-layer--interactive",children:[...r.interactive]}),o.displayPhonemes&&i("g",{ref:u=>this.textLayer=u,className:"runic-layer--text",children:[...r.text]})]})}};var V=class extends y{constructor(n){super(n);d(this,"onChange",n=>{this.props.onChange?.(n)});d(this,"onInput",n=>{let o=n.currentTarget,r=parseFloat(o.value);this.setState({value:r}),this.props.onInput?.(n),this.props.bindInput?.(r)});this.setState({value:n.default})}render(n,o){return i("div",{className:"range-input",children:[i("div",{className:"range-input__info",children:[i("div",{className:"range-input__label",children:n.label}),i("div",{className:"range-input__value",children:o.value})]}),i("input",{className:"range-input__input-element",type:"range",min:n.min,max:n.max,step:n.step,defaultValue:String(n.default),onChange:this.onChange,onInput:this.onInput})]})}};function xe(e){let t=null,o=new XMLSerializer().serializeToString(e);return o=`<?xml version="1.0" standalone="no"?>\r
`+o,t="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(o),t}async function Je(e){let t=xe(e),n=document.createElement("canvas"),o=new Image;o.src=t;let r=2e3,a=e.getAttribute("viewBox").split(/\s+/g),l=parseFloat(a[2]),c=parseFloat(a[3]);return n.width=r,n.height=r/l*c,new Promise((u,p)=>{o.onload=function(){n.getContext("2d").drawImage(o,0,0,n.width,n.height),u(n)}})}function ke(e,t="tempfilename"){let n=document.createElement("a");n.download=t,n.href=e,document.body.appendChild(n),n.click(),document.body.removeChild(n),n=null}var ne=()=>i("svg",{width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i("g",{children:i("path",{d:"M6 21H18M12 3V17M12 17L17 12M12 17L7 12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})})}),Ye=e=>i("svg",{fill:"#000000",width:"800px",height:"800px",viewBox:"0 -2.5 29 29",xmlns:"http://www.w3.org/2000/svg",...e,children:[i("path",{fill:"currentColor",d:"m1.334 2.666h26.665c.011 0 .024.001.037.001.737 0 1.334-.597 1.334-1.334s-.597-1.334-1.334-1.334c-.013 0-.026 0-.039.001h.002-26.665c-.72.021-1.296.61-1.296 1.333s.576 1.312 1.294 1.333h.002z"}),i("path",{fill:"currentColor",d:"m1.334 7.999h19.555c.011 0 .024.001.037.001.737 0 1.334-.597 1.334-1.334s-.597-1.334-1.334-1.334c-.013 0-.026 0-.039.001h.002-19.555c-.72.021-1.296.61-1.296 1.333s.576 1.312 1.294 1.333h.002z"}),i("path",{fill:"currentColor",d:"m27.999 10.667h-26.665c-.72.021-1.296.61-1.296 1.333s.576 1.312 1.294 1.333h.002 26.665c.72-.021 1.296-.61 1.296-1.333s-.576-1.312-1.294-1.333z"}),i("path",{fill:"currentColor",d:"m27.999 21.333h-26.665c-.72.021-1.296.61-1.296 1.333s.576 1.312 1.294 1.333h.002 26.665c.72-.021 1.296-.61 1.296-1.333s-.576-1.312-1.294-1.333z"}),i("path",{fill:"currentColor",d:"m1.334 18.666h19.555c.72-.021 1.296-.61 1.296-1.333s-.576-1.312-1.294-1.333h-.002-19.555c-.72.021-1.296.61-1.296 1.333s.576 1.312 1.294 1.333z"})]}),Ze=e=>i("svg",{width:"800px",height:"800px",viewBox:"0 -2.5 29 29",xmlns:"http://www.w3.org/2000/svg",...e,children:[i("path",{fill:"currentColor",d:"m1.334 2.666h26.665c.011 0 .024.001.037.001.737 0 1.334-.597 1.334-1.334s-.597-1.334-1.334-1.334c-.013 0-.026 0-.039.001h.002-26.665c-.72.021-1.296.61-1.296 1.333s.576 1.312 1.294 1.333h.002z"}),i("path",{fill:"currentColor",d:"m4.889 5.333c-.011 0-.024-.001-.037-.001-.737 0-1.334.597-1.334 1.334s.597 1.334 1.334 1.334c.013 0 .026 0 .039-.001h-.002 19.555c.72-.021 1.296-.61 1.296-1.333s-.576-1.312-1.294-1.333h-.002z"}),i("path",{fill:"currentColor",d:"m27.999 10.667h-26.665c-.72.021-1.296.61-1.296 1.333s.576 1.312 1.294 1.333h.002 26.665c.72-.021 1.296-.61 1.296-1.333s-.576-1.312-1.294-1.333z"}),i("path",{fill:"currentColor",d:"m27.999 21.333h-26.665c-.72.021-1.296.61-1.296 1.333s.576 1.312 1.294 1.333h.002 26.665c.72-.021 1.296-.61 1.296-1.333s-.576-1.312-1.294-1.333z"}),i("path",{fill:"currentColor",d:"m24.444 18.666c.72-.021 1.296-.61 1.296-1.333s-.576-1.312-1.294-1.333h-.002-19.555c-.72.021-1.296.61-1.296 1.333s.576 1.312 1.294 1.333h.002z"})]}),Qe=e=>i("svg",{width:"800px",height:"800px",viewBox:"0 -2.5 29 29",xmlns:"http://www.w3.org/2000/svg",...e,children:[i("path",{fill:"currentColor",d:"m27.999 21.333h-26.665c-.72.021-1.296.61-1.296 1.333s.576 1.312 1.294 1.333h.002 26.665c.72-.021 1.296-.61 1.296-1.333s-.576-1.312-1.294-1.333z"}),i("path",{fill:"currentColor",d:"m27.999 16h-19.555c-.72.021-1.296.61-1.296 1.333s.576 1.312 1.294 1.333h.002 19.555c.72-.021 1.296-.61 1.296-1.333s-.576-1.312-1.294-1.333z"}),i("path",{fill:"currentColor",d:"m27.999 10.667h-26.665c-.72.021-1.296.61-1.296 1.333s.576 1.312 1.294 1.333h.002 26.665c.72-.021 1.296-.61 1.296-1.333s-.576-1.312-1.294-1.333z"}),i("path",{fill:"currentColor",d:"m1.334 2.666h26.665c.011 0 .024.001.037.001.737 0 1.334-.597 1.334-1.334s-.597-1.334-1.334-1.334c-.013 0-.026 0-.039.001h.002-26.665c-.72.021-1.296.61-1.296 1.333s.576 1.312 1.294 1.333h.002z"}),i("path",{fill:"currentColor",d:"m27.999 5.333h-19.555c-.011 0-.024-.001-.037-.001-.737 0-1.334.597-1.334 1.334s.597 1.334 1.334 1.334c.013 0 .026 0 .039-.001h-.002 19.555c.72-.021 1.296-.61 1.296-1.333s-.576-1.312-1.294-1.333z"})]});var D=class extends y{constructor(n){super(n);d(this,"id");d(this,"onChange",n=>{let r=n.currentTarget.value;this.props.onChange(r)});this.id=Math.round(Math.random()*1e4)}render(n,o){let r=`input-radio--${this.id}`;return i("div",{class:"chip-select",children:n.chipData.map((a,l)=>{let c=`${r}_${l}`;return i(w,{children:[i("input",{type:"radio",className:"chip-select__input",name:r,value:a.value,id:c,checked:l===0,onChange:this.onChange}),i("label",{className:"chip-select__label",htmlFor:c,children:a.label})]})})})}};var U=class extends y{constructor(){super(...arguments);d(this,"indicatorElement");d(this,"bindInput",n=>{let r=n.currentTarget.value;this.props.bindInput(r),this.indicatorElement.style.backgroundColor=r})}render(n,o){return i("div",{className:"color-input",children:[i("input",{type:"color",onInput:this.bindInput,id:"idk"}),i("label",{className:"color-input__label",htmlFor:"idk",children:n.label}),i("div",{className:"color-input__indicator",style:{backgroundColor:n.defaultColor},ref:r=>this.indicatorElement=r})]})}};var O=class extends y{constructor(){super(...arguments);d(this,"textareaElement");d(this,"onInput",()=>{let n=this.textareaElement.value;this.props.bindInput(n);let o=(n.match(/\n/g)||[]).length+1;this.textareaElement.rows=o+1})}setText(n){this.textareaElement.value=n,this.onInput()}componentDidMount(){let o=(this.textareaElement.value.match(/\n/g)||[]).length+1;this.textareaElement.rows=o+1}render(n,o){let{label:r,bindInput:a,...l}=n;return i("div",{className:"text-input",children:[i("label",{className:"text-input__label",children:[r,":"]}),i("textarea",{ref:c=>this.textareaElement=c,className:"text-input__textarea",...l,onInput:this.onInput,rows:2})]})}};function wt(e){let t=i(D,{chipData:[{value:"left",label:i(Ye,{width:"1.25em",height:"1.25em"})},{value:"center",label:i(Ze,{width:"1.25em",height:"1.25em"})},{value:"right",label:i(Qe,{width:"1.25em",height:"1.25em"})}],onChange:e.onAlignmentChange}),n=i(D,{chipData:[{value:"false",label:"Hide phonemes"},{value:"true",label:"Show phonemes"}],onChange:e.onPhonemeDisplayChange}),o=i(D,{chipData:[{value:"true",label:"Transparent background"},{value:"false",label:"Opaque background"}],onChange:e.onTransparentBackgroundSelect});return i("div",{className:"runic-editor__settings-container",children:[i(V,{label:"Thickness",min:.05,max:.5,step:.01,default:.25,bindInput:e.onThicknessChange}),i(V,{label:"Shadow",min:0,max:20,step:.5,default:0,bindInput:e.onSpreadChange}),i(V,{label:"Line Height",min:-C,max:C,step:.5,default:C/2,bindInput:e.onLineSpacingChange}),t,n,i(U,{defaultColor:"crimson",bindInput:e.onRuneColorChange,label:"Rune Color"}),i(U,{defaultColor:"black",bindInput:e.onBackgroundChange,label:"Background"}),o,i("div",{className:"runic-editor__download-group",children:[i("button",{className:"runic-editor__download-button",onClick:()=>e.download("svg"),children:[i(ne,{})," SVG"]}),i("button",{className:"runic-editor__download-button",onClick:()=>e.download("png"),children:[i(ne,{})," PNG"]}),i("button",{className:"runic-editor__download-button",onClick:()=>e.download("jpeg"),children:[i(ne,{})," JPEG"]})]})]})}var et=`Tunic
Secret Legend!`,oe=class extends y{constructor(){super(...arguments);d(this,"runeSVGElement");d(this,"svgContainer");d(this,"englishInput");d(this,"phoneticInput");d(this,"onPhoneticChange",n=>{this.runeSVGElement.setPhoneticText(n)});d(this,"onEnglishChange",n=>{let o=Me(n);this.phoneticInput.setText(o)});d(this,"onSpreadChange",n=>{this.runeSVGElement.setState({shadowSpread:n})});d(this,"onThicknessChange",n=>{this.runeSVGElement.setState({runeThickness:n})});d(this,"onLineSpacingChange",n=>{this.runeSVGElement.setState({lineSpacing:n})});d(this,"onAlignmentChange",n=>{this.runeSVGElement.setState({align:n})});d(this,"onPhonemeDisplayChange",n=>{this.runeSVGElement.setState({displayPhonemes:n==="true"})});d(this,"onRuneColorChange",n=>{this.runeSVGElement.setState({runeColor:n})});d(this,"onBackgroundChange",n=>{this.runeSVGElement.setState({backgroundColor:n}),this.svgContainer.style.setProperty("background-color",n)});d(this,"onTransparentBackgroundSelect",n=>{let o=n=="true";this.runeSVGElement.setState({transparentBackground:o}),this.svgContainer.style.setProperty("background-image",o?"":"none")});d(this,"download",n=>{let o=this.runeSVGElement.svgElement;if(!this.runeSVGElement.state.transparentBackground){let a=this.runeSVGElement.state.backgroundColor;o.style.setProperty("background-color",a)}let r="rune";if(n==="svg"){let a=xe(o);ke(a,`${r}.svg`)}else Je(o).then(a=>{let l=a.toDataURL(`image/${n}`);ke(l,`${r}.${n}`)});o.style.removeProperty("background-color")})}componentDidMount(){this.onEnglishChange(et)}render(){return i("div",{className:"runic-editor",children:[i("div",{className:"runic-editor__input-area",children:[i(O,{ref:n=>this.englishInput=n,label:"Input (English)",placeholder:"Type something here",name:"text-input--english",bindInput:this.onEnglishChange,value:et}),i("span",{className:"runic-editor__input-divider",children:"\xA0"}),i(O,{ref:n=>this.phoneticInput=n,label:"Input (Phonetic)",placeholder:"Type something here",name:"text-input--phonetic",bindInput:this.onPhoneticChange,spellcheck:!1})]}),i("div",{className:"runic-editor__preview",children:[i("div",{className:"runic-editor__svg-container",ref:n=>this.svgContainer=n,children:i(I,{ref:n=>this.runeSVGElement=n,interactive:!1,displayPhonemes:!1,phoneticText:"sik\u0279\u0259t \u026B\u025Bd\u0292\u0259nd"})}),i("hr",{}),i("details",{open:!0,children:[i("summary",{children:"Settings"}),wt(this)]})]})]})}};function Ct(e){navigator.clipboard.writeText(e.ipaSymbol)}function Tt(e){return i("div",{className:"rune-reference-grid-item",children:i("div",{className:"rune-card",onClick:()=>Ct(e),title:`Click to copy '${e.ipaSymbol}'`,children:[i("div",{className:"svg-container",children:i(I,{displayPhonemes:!1,interactive:!1,phoneticText:e.ipaSymbol,runeColor:"palegreen",runeGuideColor:"#242424"})}),i("div",{className:"rune-info",children:[i("span",{class:"rune-info__symbol",children:e.ipaSymbol}),i("span",{class:"rune-info__english",children:[e.english,i("br",{}),e.examples]})]})]})})}var W=class extends y{render(t){return i(w,{children:i("div",{class:"rune-reference-grid",children:[...t.table.map(Tt)]})})}};var re=class extends y{render(){return i("div",{className:"runic-playground",children:i(I,{phoneticText:"a\u026Aa\u026Aa\u026Aa\u026Aa\u026A",interactive:!0,displayPhonemes:!0,runeColor:"cornflowerblue",runeGuideColor:"#242424"})})}};async function Et(){await Ge(),B(i(oe,{}),document.querySelector(".runic-editor-container")),B(i(re,{}),document.querySelector(".runic-playground-container")),B(i(W,{table:P}),document.querySelector("#rune-vowel-table")),B(i(W,{table:z}),document.querySelector("#rune-consonant-table"))}Et();
